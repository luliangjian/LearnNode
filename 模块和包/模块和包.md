#包中导出变量两种方式
exports.Hello=Hello;
module.exports=Hello;

注意，模块接口的唯一变化是使用  module.exports = Hello 代替了  exports.Hello=
Hello 。在外部引用该模块时，其接口对象就是要输出的  Hello 对象本身，而不是原先的
exports 

事实上， exports  本身仅仅是一个普通的空对象，即 {} ，它专门用来声明接口，本
质上是通过它为模块闭包
① 的内部建立了一个有限的访问接口。因为它没有任何特殊的地方，
所以可以用其他东西来代替，譬如我们上面例子中的 Hello  对象。

#创建作为文件夹的模块
1.直接使用文件夹目录下的index.js或index.node作为该文件夹模块
模块与文件是一一对应的。文件不仅可以是 JavaScript 代码或二进制代码，还可以是一
个文件夹。最简单的包，就是一个作为文件夹的模块。下面我们来看一个例子，建立一个叫
做 somepackage  的文件夹，在其中创建 index.js
运行 node getpackage.js，控制台将输出结果 Hello. 。
我们使用这种方法可以把文件夹封装为一个模块，即所谓的包。包通常是一些模块的集
合，在模块的基础上提供了更高层的抽象，相当于提供了一些固定接口的函数库。通过定制
package.json，我们可以创建更复杂、更完善、更符合规范的包用于发布。

2.创建该文件夹下的package.json文件，并重新定义入口main

package.json 是 CommonJS 规定的用来描述包的文件，完全符合规范的 package.json 文
件应该含有以下字段。
  name ：包的名称，必须是唯一的，由小写英文字母、数字和下划线组成，不能包含
空格。
  description ：包的简要说明。
  version ：符合语义化版本识别
① 规范的版本字符串。
  keywords ：关键字数组，通常用于搜索。
  maintainers ：维护者数组，每个元素要包含 name 、 email （可选）、 web （可选）
字段。
  contributors ：贡献者数组，格式与 maintainers 相同。包的作者应该是贡献者
数组的第一个元素。
  bugs ：提交bug的地址，可以是网址或者电子邮件地址。
  licenses ：许可证数组，每个元素要包含 type （许可证的名称）和  url （链接到
许可证文本的地址）字段。
  repositories ：仓库托管地址数组，每个元素要包含 type  （仓库的类型，如  git ）、
url （仓库的地址）和  path （相对于仓库的路径，可选）字段。
  dependencies ：包的依赖，一个关联数组，由包名称和版本号组成。

#本地模式和全局模式
npm [install/i] -g [package_name]
决定使用本地模式还是全局模式在于是否使用命令行

#创建全局链接
npm link
我们可以在 node_modules 子目录中发现一个指向安装到全局的包的符号链接。通过这
种方法，我们就可以把全局包当本地包来使用了。
除了将全局的包链接到本地以外，使用  npm link 命令还可以将本地的包链接到全局。
使用方法是在包目录（ package.json 所在目录）中运行 npm link  命令。如果我们要开发
                                              一个包，利用这种方法可以非常方便地在不同的工程间进行测试。0

#包的发布
npm 可以非常方便地发布一个包，比 pip、gem、pear 要简单得多。在发布之前，首先
需要让我们的包符合 npm 的规范，npm 有一套以 CommonJS 为基础包规范，但与 CommonJS
并不完全一致，其主要差别在于必填字段的不同。
通过使用  npm init 可以根据交互式问答
产生一个符合标准的 package.json，例如创建一个名为 byvoidmodule 的目录，然后在这个
目录中运行 npm init ：
这样就在 byvoidmodule 目录中生成一个符合 npm 规范的 package.json 文件。创建一个
index.js 作为包的接口，一个简单的包就制作完成了。
在发布前，我们还需要获得一个账号用于今后维护自己的包，使用  npm adduser  根据
提示输入用户名、密码、邮箱，等待账号创建完成。完成后可以使用  npm whoami  测验是
否已经取得了账号。
接下来，在 package.json 所在目录下运行 npm publish ，稍等片刻就可以完成发布了。
打开浏览器，访问 http://search.npmjs.org/ 就可以找到自己刚刚发布的包了。现在我们可以在
世界的任意一台计算机上使用  npm install byvoidmodule  命令来安装它。图3-6 是npmjs.
org上包的描述页面。
如果你的包将来有更新，只需要在 package.json 文件中修改  version  字段，然后重新
使用 npm publish 命令就行了。如果你对已发布的包不满意（比如我们发布的这个毫无意
义的包），可以使用  npm unpublish 命令来取消发布。

#命令行调试
node debug debug.js
node.js调试脚本命令：

run  执行脚本，在第一行暂停
restart  重新执行脚本
cont, c  继续执行，直到遇到下一个断点
next, n  单步执行
step, s  单步执行并进入函数
out, o  从函数中步出
setBreakpoint(), sb()  在当前行设置断点
setBreakpoint(‘f()’), sb(...)  在函数f的第一行设置断点
setBreakpoint(‘script.js’, 20), sb(...)  在 script.js 的第20行设置断点
clearBreakpoint, cb(...)  清除所有断点
backtrace, bt  显示当前的调用栈
list(5)  显示当前执行到的前后5行代码
watch(expr)  把表达式 expr 加入监视列表
unwatch(expr)  把表达式 expr 从监视列表移除
watchers  显示监视列表中所有的表达式和值
repl  在当前上下文打开即时求值环境
kill  终止当前执行的脚本
scripts  显示当前已加载的所有脚本
version  显示 V8 的版本

#远程调试
node --debug [= port ] script.js
node --debug-brk [= port ] script.js、

//在一个终端中
$ node --debug-brk debug.js
debugger listening on port 5858
//在另一个终端中
$ node debug 127.0.0.1:5858

#使用 node-inspector 调试 Node.js
 npm install -g node-inspector
